import*as e from"https://unpkg.com/three@0.126.1/build/three.module.js";import{OrbitControls as t}from"https://unpkg.com/three@0.126.1/examples/jsm/controls/OrbitControls.js";const n=new e.Scene,o=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),i=new e.WebGL1Renderer({canvas:document.querySelector("#bg")});i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),o.position.setZ(0),o.position.setX(0),n.fog=new e.FogExp2(1118495,.002),i.render(n,o);const r=new e.PointLight(5197647),s=new e.PointLight(16777215),a=new e.AmbientLight(5197647);r.position.set(-20,0,5),s.position.set(-5,420,420),a.intensity=.1,r.intensity=.5,s.intensity=2,n.add(r,a,s);const d=new t(o,i.domElement);function w(){const t=new e.SphereGeometry(1,20,20),n=new e.MeshStandardMaterial({map:p}),o=new e.Mesh(t,n),[i,r,s]=Array(3).fill().map((()=>e.MathUtils.randFloatSpread(100)));return o.position.set(i,r,s),o}const c=(new e.TextureLoader).load("./rainy.jpg");n.background=c;const p=(new e.TextureLoader).load("./MONARCH02transbg.svg"),m=new e.Mesh(new e.BoxGeometry(9,9,9),new e.MeshBasicMaterial({map:p}));n.add(m);let l=new e.Object3D;for(let g=0;g<100;g++)l.add(w());n.add(l);document.body.onscroll=()=>{const e=document.body.getBoundingClientRect().top;m.rotateX(.01),m.rotateY(.01),l.rotateX(.01),l.rotateY(.01),l.rotateZ(.01),o.position.setZ(-.01*e),o.position.setX(-2e-4*e),o.position.setY(-2e-4*e)};const h=()=>{requestAnimationFrame(h),l.rotateX(.001),l.rotateY(.001),l.rotateZ(.001),m.rotateX(.01),m.rotateY(.01),m.rotateZ(.01),d.update(),i.render(n,o)};h();
